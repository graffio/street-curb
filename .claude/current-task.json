{
  "feature": "Category Spending Report",
  "goal": "Display hierarchical category spending with expand/collapse, aggregating transaction amounts bottom-up",
  "templates_used": ["implement-feature.md", "write-tests.md", "commit-changes.md"],
  "decisions": {
    "treeProps": "Use getChildRows in our API, map to TanStack's getSubRows internally",
    "expandedState": "Store in Redux via tableLayout, consistent with sorting/columnSizing/columnOrder"
  },
  "steps": [
    { "step": 1, "action": "[CHECKPOINT] Confirm DataTable extension approach: add getChildRows, expanded, onExpandedChange props; map getChildRows to getSubRows internally", "done": true },
    { "step": 2, "action": "Add tree props to DataTable: getChildRows (mapped to getSubRows), expanded, onExpandedChange; add getExpandedRowModel() to model pipeline", "done": false },
    { "step": 3, "action": "Update DataTable PropTypes for new tree props", "done": false },
    { "step": 4, "action": "Test DataTable tree support manually with mock hierarchical data", "done": false },
    { "step": 5, "action": "git add + commit: Add tree data support to DataTable", "done": false },
    { "step": 6, "action": "Create categoryReportColumns in quicken-web-app/src/columns/ with expand toggle in first column", "done": false },
    { "step": 7, "action": "Write test for category tree building: group transactions, build tree, aggregate totals", "done": false },
    { "step": 8, "action": "Create useCategoryTree hook or utility that composes groupBy → buildTree → aggregateTree", "done": false },
    { "step": 9, "action": "Run test, confirm passing", "done": false },
    { "step": 10, "action": "git add + commit: Add category tree computation", "done": false },
    { "step": 11, "action": "Create CategoryReportPage component with FilterBar (date range, accounts) and DataTable", "done": false },
    { "step": 12, "action": "Add expanded state to tableLayout in Redux; wire onExpandedChange to Action.SetTableLayout", "done": false },
    { "step": 13, "action": "Wire CategoryReportPage to router", "done": false },
    { "step": 14, "action": "Manual test: verify expand/collapse, aggregation, filtering works", "done": false },
    { "step": 15, "action": "git add + commit: Add CategoryReportPage with hierarchical display", "done": false },
    { "step": 16, "action": "Run yarn tap and yarn lint to verify no regressions", "done": false },
    { "step": 17, "action": "Final commit if any cleanup needed", "done": false }
  ],
  "verification": [
    "DataTable accepts tree props and renders hierarchical data",
    "Category tree aggregates amounts correctly (parent = own + children)",
    "Expand/collapse works in UI",
    "Tests pass",
    "No lint errors"
  ]
}
